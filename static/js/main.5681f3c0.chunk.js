(this["webpackJsonpusers-list"]=this["webpackJsonpusers-list"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(6),c=n.n(r),s=(n(12),n(2)),d=(n(13),n(4)),o="https://frontend-candidate.dev.sdh.com.ua/v1/contact/",l=function(){return fetch(o).then((function(e){return e.json()}))};function b(e){return fetch("".concat(o).concat(e),{method:"DELETE"})}var j=n(0),h=function(e){var t=e.users,n=e.setUsers,a=Object(i.useState)({first_name:"",last_name:"",birth_date:"",gender:"male",job:"",biography:"",is_active:!1}),r=Object(s.a)(a,2),c=r[0],o=r[1],b=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,i=Object(d.a)({},c);i[t]=n,o(i)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Add a user "}),Object(j.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),function(e){var t=e.first_name,n=e.last_name,i=e.birth_date,a=e.gender,r=e.job,c=e.biography,s=e.is_active,d=e.id;return fetch("https://frontend-candidate.dev.sdh.com.ua/v1/contact/",{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify({first_name:t,last_name:n,birth_date:i,gender:a,job:r,biography:c,is_active:s,id:d})}).then((function(e){return e.json()}))}({id:t.length+1,first_name:c.first_name,last_name:c.last_name,birth_date:c.birth_date,gender:c.gender,job:c.job,biography:c.biography,is_active:c.is_active}).then((function(){l().then(n)})),{first_name:"",last_name:"",birth_date:"",gender:"male",job:"",biography:"",is_active:!1}},children:[Object(j.jsx)("label",{htmlFor:"name",children:"First Name"}),Object(j.jsx)("input",{required:!0,type:"text",name:"first_name",id:"name",onChange:b}),Object(j.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(j.jsx)("input",{required:!0,type:"text",id:"lastName",name:"last_name",onChange:b}),Object(j.jsx)("label",{htmlFor:"date",children:"Birth date: "}),Object(j.jsx)("input",{type:"date",id:"date",name:"birth_date",required:!0,onChange:b}),Object(j.jsx)("label",{htmlFor:"sex",children:"Gender:"}),Object(j.jsxs)("select",{id:"sex",name:"gender",onChange:b,children:[Object(j.jsx)("option",{value:"male",children:"male"}),Object(j.jsx)("option",{value:"female",children:"female"})]}),Object(j.jsx)("label",{htmlFor:"job",children:"Job"}),Object(j.jsx)("input",{type:"text",required:!0,name:"job",id:"job",onChange:b}),Object(j.jsx)("label",{htmlFor:"biography",children:"Biography"}),Object(j.jsx)("input",{type:"text",required:!0,id:"biography",name:"biography",onChange:b}),Object(j.jsx)("input",{type:"checkbox",id:"is_active",name:"is_active",onChange:b}),Object(j.jsx)("label",{htmlFor:"is_active",children:"Is active"}),Object(j.jsx)("button",{type:"submit",children:"Send"})]})]})},u=function(e){var t=e.user,n=e.setUserId,i=e.deleteUser;return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsxs)("tr",{onClick:function(){return n(t.id)},children:[Object(j.jsx)("th",{children:t.first_name}),Object(j.jsx)("th",{children:t.last_name}),Object(j.jsx)("th",{children:t.birth_date}),Object(j.jsx)("th",{children:t.biography}),Object(j.jsx)("th",{children:Object(j.jsx)("button",{type:"button",onClick:function(){return i(t.id)},children:"Delete"})})]})},t.id)},m=function(e){var t=e.users,n=e.setUserId,i=e.loadUser;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Last Name"}),Object(j.jsx)("th",{children:"Birthday"}),Object(j.jsx)("th",{children:"Biography"})]})}),Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsx)(u,{user:e,deleteUser:function(e){b(e).then(i)},setUserId:n})},e.id)}))})]})})})},O=function(e){var t=e.editFormDate,n=e.handleEditFormChange,i=e.handleEditFormSubmit;return Object(j.jsxs)("form",{onSubmit:i,children:[Object(j.jsx)("h2",{children:"Edit the user"}),Object(j.jsx)("label",{htmlFor:"name",children:"First Name"}),Object(j.jsx)("input",{required:!0,type:"text",name:"first_name",id:"name",onChange:n,value:t.first_name}),Object(j.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(j.jsx)("input",{required:!0,type:"text",id:"lastName",name:"last_name",onChange:n,value:t.last_name}),Object(j.jsx)("label",{htmlFor:"date",children:"Birth date: "}),Object(j.jsx)("input",{type:"date",id:"date",name:"birth_date",required:!0,onChange:n,value:t.birth_date}),Object(j.jsx)("label",{htmlFor:"sex",children:"Gender:"}),Object(j.jsxs)("select",{id:"sex",name:"gender",onChange:n,value:t.gender,children:[Object(j.jsx)("option",{value:"male",children:"male"}),Object(j.jsx)("option",{value:"female",children:"female"})]}),Object(j.jsx)("label",{htmlFor:"job",children:"Job"}),Object(j.jsx)("input",{type:"text",required:!0,name:"job",id:"job",onChange:n,value:t.job}),Object(j.jsx)("label",{htmlFor:"biography",children:"Biography"}),Object(j.jsx)("input",{type:"text",required:!0,id:"biography",name:"biography",onChange:n,value:t.biography}),Object(j.jsx)("input",{type:"checkbox",id:"is_active",name:"is_active",onChange:n,value:t.is_active}),Object(j.jsx)("label",{htmlFor:"is_active",children:"Is active"}),Object(j.jsx)("button",{type:"submit",children:"Save"})]})},x=function(e){var t=e.userId,n=e.deleteUser,a=(e.users,e.setUsers),r=Object(i.useState)(),c=Object(s.a)(r,2),b=c[0],h=c[1],u=Object(i.useState)(0),m=Object(s.a)(u,2),x=m[0],p=m[1],f=Object(i.useState)({first_name:"",last_name:"",birth_date:"",gender:"male",job:"",biography:"",is_active:!1}),g=Object(s.a)(f,2),v=g[0],_=g[1];return Object(i.useEffect)((function(){(function(e){return fetch("".concat(o).concat(e)).then((function(e){return e.json()}))})(t).then((function(e){h(e)}))}),[t]),Object(j.jsx)(j.Fragment,{children:x===(null===b||void 0===b?void 0:b.id)?Object(j.jsx)(O,{editFormDate:v,handleEditFormChange:function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,i=Object(d.a)({},v);i[t]=n,_(i)},handleEditFormSubmit:function(e){e.preventDefault();var t={id:x,first_name:v.first_name,last_name:v.last_name,birth_date:v.birth_date,gender:v.gender,job:v.job,biography:v.biography,is_active:v.is_active};(function(e,t){var n=e.first_name,i=e.last_name,a=e.birth_date,r=e.gender,c=e.job,s=e.biography,d=e.is_active,l=e.id;return fetch("".concat(o).concat(t),{method:"PATCH",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({first_name:n,last_name:i,birth_date:a,gender:r,job:c,biography:s,is_active:d,id:l})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t,t.id).then((function(){l().then(a)}))}}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h2",{children:[null===b||void 0===b?void 0:b.first_name," "," "," ",null===b||void 0===b?void 0:b.last_name]}),Object(j.jsxs)("p",{children:[null===b||void 0===b?void 0:b.biography," ",null===b||void 0===b?void 0:b.birth_date," ",null===b||void 0===b?void 0:b.job," ",null===b||void 0===b?void 0:b.gender," ",null===b||void 0===b?void 0:b.is_active,Object(j.jsx)("button",{type:"button",onClick:function(e){return function(e,t){e.preventDefault(),p(t.id);var n={first_name:t.first_name,last_name:t.last_name,birth_date:t.birth_date,gender:t.gender,job:t.job,biography:t.biography,is_active:t.is_active};_(n)}(e,b)},children:"Edit"}),Object(j.jsx)("button",{type:"button",onClick:function(){return n(null===b||void 0===b?void 0:b.id)},children:"Delete"})]})]})})},p=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(0),c=Object(s.a)(r,2),d=c[0],o=c[1],u=function(){l().then(a)};return Object(i.useEffect)(u,[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{users:n,setUserId:o,loadUser:u}),Object(j.jsx)(h,{users:n,setUsers:a}),Object(j.jsx)(x,{userId:d,deleteUser:function(e){b(e).then(u)},users:n,setUsers:a})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))},g=n(7);c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(g.a,{children:Object(j.jsx)(p,{})})}),document.getElementById("root")),f()}},[[15,1,2]]]);
//# sourceMappingURL=main.5681f3c0.chunk.js.map