(this["webpackJsonpusers-list"]=this["webpackJsonpusers-list"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(9),c=n.n(r),s=(n(14),n(3)),l=(n(15),n(7)),b="https://frontend-candidate.dev.sdh.com.ua/v1/contact/",d=function(){return fetch(b).then((function(e){return e.json()}))};function j(e){return fetch("".concat(b).concat(e),{method:"DELETE"})}n(16);var o=n(5),h=n(0),u=function(e){var t=e.users,n=e.setUsers,i=Object(a.useState)({first_name:"",last_name:"",birth_date:"",gender:"male",job:"",biography:"",is_active:!1}),r=Object(s.a)(i,2),c=r[0],b=r[1],j=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,a=Object(l.a)({},c);a[t]=n,b(a)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.b,{to:"/",className:"back",children:"\u2039 Back to the users list"}),Object(h.jsx)("h2",{children:"Add a new user "}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=e.first_name,n=e.last_name,a=e.birth_date,i=e.gender,r=e.job,c=e.biography,s=e.is_active,l=e.id;return fetch("https://frontend-candidate.dev.sdh.com.ua/v1/contact/",{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify({first_name:t,last_name:n,birth_date:a,gender:i,job:r,biography:c,is_active:s,id:l})}).then((function(e){return e.json()}))}({id:t.length+1,first_name:c.first_name,last_name:c.last_name,birth_date:c.birth_date,gender:c.gender,job:c.job,biography:c.biography,is_active:c.is_active}).then((function(){d().then(n),e.target.reset()}))},className:"new-user",children:[Object(h.jsx)("label",{htmlFor:"name",children:"First Name:"}),Object(h.jsx)("input",{required:!0,type:"text",name:"first_name",id:"name",onChange:j}),Object(h.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(h.jsx)("input",{required:!0,type:"text",id:"lastName",name:"last_name",onChange:j}),Object(h.jsx)("label",{htmlFor:"date",children:"Birth date: "}),Object(h.jsx)("input",{type:"date",id:"date",name:"birth_date",required:!0,onChange:j}),Object(h.jsx)("label",{htmlFor:"sex",children:"Gender:"}),Object(h.jsxs)("select",{id:"sex",name:"gender",onChange:j,children:[Object(h.jsx)("option",{value:"male",children:"male"}),Object(h.jsx)("option",{value:"female",children:"female"})]}),Object(h.jsx)("label",{htmlFor:"job",children:"Job:"}),Object(h.jsx)("input",{type:"text",required:!0,name:"job",id:"job",onChange:j}),Object(h.jsx)("label",{htmlFor:"biography",children:"Biography:"}),Object(h.jsx)("textarea",{required:!0,id:"biography",name:"biography",onChange:j}),Object(h.jsx)("label",{htmlFor:"is_active",children:"Is active:"}),Object(h.jsx)("input",{type:"checkbox",id:"is_active",name:"is_active",onChange:j}),Object(h.jsx)("button",{type:"submit",children:"Send"})]})]})},m=(n(18),function(e){var t=e.user,n=e.setUserId,a=e.deleteUser;return Object(h.jsx)(i.a.Fragment,{children:Object(h.jsxs)("tr",{onClick:function(){return n(t.id)},className:"user",children:[Object(h.jsx)("th",{children:t.first_name}),Object(h.jsx)("th",{children:t.last_name}),Object(h.jsx)("th",{children:t.birth_date}),Object(h.jsx)("th",{children:t.biography}),Object(h.jsx)("th",{children:Object(h.jsx)("button",{className:"btn-link",children:Object(h.jsx)(o.b,{to:"currentuser",className:"link",children:"More info"})})}),Object(h.jsx)("th",{children:Object(h.jsx)("button",{type:"button",onClick:function(){return a(t.id)},className:"btn",children:"Delete"})})]})},t.id)}),O=(n(19),function(e){var t=e.users,n=e.setUserId,a=e.loadUser;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:"Users list"}),Object(h.jsx)("div",{className:"list",children:Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Last Name"}),Object(h.jsx)("th",{children:"Birthday"}),Object(h.jsx)("th",{children:"Biography"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e){return Object(h.jsx)(i.a.Fragment,{children:Object(h.jsx)(m,{user:e,deleteUser:function(e){j(e).then(a)},setUserId:n})},e.id)}))})]})}),Object(h.jsx)(o.b,{to:"/newuser",className:"add-btn",children:Object(h.jsx)("button",{children:"Add a new user"})})]})}),x=function(e){var t=e.editFormDate,n=e.handleEditFormChange,a=e.handleEditFormSubmit;return Object(h.jsxs)("form",{onSubmit:a,children:[Object(h.jsx)(o.b,{to:"/",className:"back",children:"Back to the users list"}),Object(h.jsx)("h2",{children:"Edit the user"}),Object(h.jsx)("label",{htmlFor:"name",children:"First Name"}),Object(h.jsx)("input",{required:!0,type:"text",name:"first_name",id:"name",onChange:n,value:t.first_name}),Object(h.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(h.jsx)("input",{required:!0,type:"text",id:"lastName",name:"last_name",onChange:n,value:t.last_name}),Object(h.jsx)("label",{htmlFor:"date",children:"Birth date: "}),Object(h.jsx)("input",{type:"date",id:"date",name:"birth_date",required:!0,onChange:n,value:t.birth_date}),Object(h.jsx)("label",{htmlFor:"sex",children:"Gender:"}),Object(h.jsxs)("select",{id:"sex",name:"gender",onChange:n,value:t.gender,children:[Object(h.jsx)("option",{value:"male",children:"male"}),Object(h.jsx)("option",{value:"female",children:"female"})]}),Object(h.jsx)("label",{htmlFor:"job",children:"Job"}),Object(h.jsx)("input",{type:"text",required:!0,name:"job",id:"job",onChange:n,value:t.job}),Object(h.jsx)("label",{htmlFor:"biography",children:"Biography"}),Object(h.jsx)("input",{type:"text",required:!0,id:"biography",name:"biography",onChange:n,value:t.biography}),Object(h.jsx)("input",{type:"checkbox",id:"is_active",name:"is_active",onChange:n,value:t.is_active}),Object(h.jsx)("label",{htmlFor:"is_active",children:"Is active"}),Object(h.jsx)("button",{type:"submit",children:"Save"})]})},f=(n(20),function(e){var t=e.userId,n=e.deleteUser,i=e.setUsers,r=Object(a.useState)(),c=Object(s.a)(r,2),j=c[0],u=c[1],m=Object(a.useState)(0),O=Object(s.a)(m,2),f=O[0],g=O[1],p=Object(a.useState)({first_name:"",last_name:"",birth_date:"",gender:"male",job:"",biography:"",is_active:!1}),v=Object(s.a)(p,2),_=v[0],y=v[1];return Object(a.useEffect)((function(){(function(e){return fetch("".concat(b).concat(e)).then((function(e){return e.json()}))})(t).then((function(e){u(e)}))}),[t]),Object(h.jsx)(h.Fragment,{children:f===(null===j||void 0===j?void 0:j.id)?Object(h.jsx)(x,{editFormDate:_,handleEditFormChange:function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,a=Object(l.a)({},_);a[t]=n,y(a)},handleEditFormSubmit:function(e){e.preventDefault();var t={id:f,first_name:_.first_name,last_name:_.last_name,birth_date:_.birth_date,gender:_.gender,job:_.job,biography:_.biography,is_active:_.is_active};(function(e,t){var n=e.first_name,a=e.last_name,i=e.birth_date,r=e.gender,c=e.job,s=e.biography,l=e.is_active,d=e.id;return fetch("".concat(b).concat(t),{method:"PATCH",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({first_name:n,last_name:a,birth_date:i,gender:r,job:c,biography:s,is_active:l,id:d})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(t,t.id).then((function(){d().then(i)}))}}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.b,{to:"/",className:"back",children:"Back to the users list"}),Object(h.jsxs)("div",{className:"current-user",children:[Object(h.jsxs)("h3",{children:[null===j||void 0===j?void 0:j.first_name," "," "," ",null===j||void 0===j?void 0:j.last_name]}),"Biography: "," ",null===j||void 0===j?void 0:j.biography," ",Object(h.jsx)("br",{}),"Birthday:"," ",null===j||void 0===j?void 0:j.birth_date,Object(h.jsx)("br",{}),"Job:"," ",null===j||void 0===j?void 0:j.job,Object(h.jsx)("br",{}),"Sex:"," ",null===j||void 0===j?void 0:j.gender,Object(h.jsx)("br",{}),null===j||void 0===j?void 0:j.is_active,Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"button",onClick:function(e){return function(e,t){e.preventDefault(),g(t.id);var n={first_name:t.first_name,last_name:t.last_name,birth_date:t.birth_date,gender:t.gender,job:t.job,biography:t.biography,is_active:t.is_active};y(n)}(e,j)},className:"edit-btn",children:"Edit"}),Object(h.jsx)(o.b,{to:"/",onClick:function(){return n(null===j||void 0===j?void 0:j.id)},className:"delete-link",children:"Delete"})]})]})})}),g=n(2),p=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),c=Object(s.a)(r,2),l=c[0],b=c[1],o=function(){d().then(i)};return Object(a.useEffect)(o,[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(g.c,{children:[Object(h.jsx)(g.a,{path:"/",element:Object(h.jsx)(O,{users:n,setUserId:b,loadUser:o})}),Object(h.jsx)(g.a,{path:"newuser",element:Object(h.jsx)(u,{users:n,setUsers:i})}),Object(h.jsx)(g.a,{path:"currentuser",element:Object(h.jsx)(f,{userId:l,deleteUser:function(e){j(e).then(o)},setUsers:i})})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(o.a,{basename:"react-users-list-test",children:Object(h.jsx)(p,{})})}),document.getElementById("root")),v()}],[[21,1,2]]]);
//# sourceMappingURL=main.e364b846.chunk.js.map